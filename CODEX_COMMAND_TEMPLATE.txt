# Codex 常用验证命令模板

## 快速体检
```
python ANALYSIS_SCRIPT.py --summary
pytest -q
python - <<'PY'
from data_loader import HistoricalDataLoader
from phase1 import SingleFactorExplorer
from phase2 import MultiFactorCombiner
print('Imports OK')
PY
```

## 常见诊断
- **统计重复文件**：`find . -name "*.py" -exec basename {} \; | sort | uniq -d`
- **检查未使用的包装器**：`rg "from .* import .*" application phase1 phase2 utils`
- **验证目录扁平化**：`find . -maxdepth 2 -type d | sort`

## 结构性调整流程
1. `git status` 查看当前工作区
2. 修改/新增顶层模块（例如 `phase1`, `utils`）
3. 更新关联文档与示例
4. 运行 `pytest -q`
5. `git diff --stat` + `git diff` 自查

## 发布前例行操作
```
pytest
python - <<'PY'
from data_loader import HistoricalDataLoader
from phase1.parallel_explorer import ParallelFactorExplorer
from utils.cache import InMemoryCache
print('Core modules import successfully')
PY
```

保持以上流程，可以在新的扁平化结构中快速定位问题并验证结果。

# 系统性故障影响评估

## 1. 影响范围
### 技术层面
- 回测指标全量归零 → 72 因子 × 11 时间框架的结果均失效。
- 组合筛选基于“零指标”执行，生成策略缺乏实际意义。
- CI 性能基线与回归检测读取同一失真数据，无法反映真实波动。

### 业务层面
- 选出的 TopN 因子与组合策略不再具有盈利指示，误导投研决策。
- 监控报表显示为“稳定/无波动”，掩盖真实风险，可能导致资金配置错误。
- 历史报告（含对外沟通材料）被污染，需要重新生成。

### 信任层面
- 数据团队与业务部门对量化平台输出的信任度显著下降。
- 需额外投入用于重新验证、走查与合规审计。

## 2. 传播链条
```
回测保护器清零 ──▶ 数据验证器归零 ──▶ 数据库存储零值 ──▶
Phase2 组合输入异常 ──▶ 基准测试/监控依赖同一数据库 ──▶
CI 与业务报表同步出现“假阳性”
```

## 3. 风险矩阵
| 维度 | 影响等级 | 备注 |
| --- | --- | --- |
| 技术 | 极高 | 所有性能指标与策略评分失效 |
| 业务 | 高 | 资金分配、策略上线基于错误数据 |
| 合规 | 中 | 对外披露/审计报告需要回滚与补发 |
| 信任 | 极高 | 团队需要证明修复措施与数据可信度 |

## 4. 恢复策略
1. **立即**：部署回测与验证器修复，重新计算单因子指标，生成新的基线。
2. **短期**：
   - 重新运行 Phase2 组合，并将 `timeframes` 写入数据库。
   - 清洗受影响的历史报告、监控仪表板。
3. **中期**：
   - 引入诊断与警报面板，统计 `diagnostics`、`_validation_violations` 分布。
   - 为关键指标建立“可信度”标签与抽样复核流程。
4. **长期**：
   - 建立数据修复演练手册与灾备机制。
   - 对回测/验证器参数做版本化与灰度发布，防止再次出现系统性故障。

## 5. 监控与问责机制
- **监控**：新增指标（如 `factor.metrics.flagged`）记录诊断数；CI 引入断言，检测 Sharpe/WinRate 全为 0 的异常情况。
- **审计**：保留修复前后的数据库快照，支持追溯。
- **汇报**：对业务/管理层发布修复报告，说明影响窗口与补救措施。
